#!/usr/sbin/nft -f

# =============================================================
# nftables-konfiguration för lastbalansering
# =============================================================
#
# TODO: Skapa regler som uppfyller följande krav:
#
# 1. NAT-TABELL (table ip nat)
#    - Prerouting-kedja: Omdirigera trafik på port 80 till
#      applikationsservrarna (172.20.0.11 och 172.20.0.12)
#      på port 5000, med round-robin-fördelning.
#      Tips: Undersök "numgen" och "dnat to ... map" i nftables.
#
#    - Postrouting-kedja: Använd masquerade så att
#      returtrafiken går tillbaka genom lastbalanseraren.
#
# 2. FILTER-TABELL (table ip filter)
#    - Forward-kedja: Begränsa vidarebefordrad trafik.
#      Sätt policy till drop, tillåt etablerade/relaterade
#      anslutningar, och tillåt ny trafik till port 5000.
#
# =============================================================

flush ruleset

# Skriv dina nftables-regler här
